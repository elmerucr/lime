Sections:
00: "seg10000" (10000-10112)


Source: "rom.s"
                            	     1: ; ----------------------------------------------------------------------
                            	     2: ; rom.s (assembles with vasmm68k_mot)
                            	     3: ; lime
                            	     4: ;
                            	     5: ; Copyright © 2025 elmerucr. All rights reserved.
                            	     6: ; ----------------------------------------------------------------------
                            	     7: 
                            	     8: 	include	"definitions.i"

Source: "definitions.i"
                            	     1: ; ----------------------------------------------------------------------
                            	     2: ; definitions.i
                            	     3: ; lime
                            	     4: ;
                            	     5: ; Copyright © 2025 elmerucr. All rights reserved.
                            	     6: ; ----------------------------------------------------------------------
                            	     7: 
                            	     8: ; vectors
                            	     9: VEC_ADDR_ERROR		equ	$000c
                            	    10: VEC_LVL1_IRQ_AUTO	equ	$0064
                            	    11: 
                            	    12: ; vdc (video display controller)
                            	    13: VDC_CURRENT_SPRITE	equ	$0407
                            	    14: VDC_TILESET0		equ	$0800
                            	    15: VDC_TILESET1		equ	$1000
                            	    16: 
                            	    17: VDC_SPRITE_X		equ	$0420
                            	    18: 
                            	    19: ; core
                            	    20: CORE_ROMS		equ	$0482
                            	    21: 

Source: "rom.s"
                            	     9: 
                            	    10: 	org	$00010000	; rom based at $10000
                            	    11: 
00:00010000 01000000        	    12: 	dc.l	$01000000	; initial ssp at end of ram
00:00010004 00010020        	    13: 	dc.l	_start		; reset vector
                            	    14: 
00:00010008 726F6D206D363830	    15: 	dc.b	"rom m68000 0.1 20250905"
00:00010010 303020302E312032
00:00010018 30323530393035
                            	    16: 
                            	    17: 	align	2
                            	    18: 
00:00010020 21FC000100A6000C	    19: _start	move.l	#exc_addr_error,VEC_ADDR_ERROR.w	; exception for address error
                            	    20: 
00:00010028 207C00010000    	    21: 	move.l	#$00010000,A0				; set usp
00:0001002E 4E60            	    22: 	move.l	A0,USP
                            	    23: 
00:00010030 003800020482    	    24: 	or.b	#%00000010,CORE_ROMS.w			; make rom font visible to cpu
00:00010036 307C1000        	    25: 	movea	#VDC_TILESET1,A0
00:0001003A 20D0            	    26: .1	move.l	(A0),(A0)+				; copy rom font to underlying ram
00:0001003C B0FC2000        	    27: 	cmpa	#VDC_TILESET1+$1000,A0
00:00010040 6600FFF8        	    28: 	bne	.1
00:00010044 023800FD0482    	    29: 	and.b	#%11111101,CORE_ROMS.w			; turn off rom font
                            	    30: 
                            	    31: ; copy logo tiles
00:0001004A 207C000100D2    	    32: 	movea.l	#logo_tiles,A0
00:00010050 327C11C0        	    33: 	movea.w	#$11c0,A1
00:00010054 12D8            	    34: .2	move.b	(A0)+,(A1)+
00:00010056 B1FC00010112    	    35: 	cmpa.l	#logo_tiles+64,A0
00:0001005C 6600FFF6        	    36: 	bne	.2
                            	    37: 
                            	    38: ; init logo
00:00010060 207C000100AA    	    39: 	movea.l	#logo_data,A0
00:00010066 4200            	    40: 	clr.b	D0
00:00010068 13C000000407    	    41: .3	move.b	D0,VDC_CURRENT_SPRITE
00:0001006E 227C00000420    	    42: 	movea.l	#VDC_SPRITE_X,A1
00:00010074 12D8            	    43: .4	move.b	(A0)+,(A1)+
00:00010076 B3FC00000425    	    44: 	cmpa.l	#VDC_SPRITE_X+5,A1
00:0001007C 6600FFF6        	    45: 	bne	.4
00:00010080 5240            	    46: 	addq	#1,D0
00:00010082 B3FC000100D2    	    47: 	cmpa.l	#logo_data+40,A1
00:00010088 6600FFDE        	    48: 	bne	.3
                            	    49: ;
00:0001008C 46FC0200        	    50: 	move.w	#$0200,SR				; set status register (User Mode, ipl = 0)
00:00010090 2F3C000100A6    	    51: 	move.l	#exc_addr_error,-(SP)			; test usp
                            	    52: 
00:00010096 10380404        	    53: .5	move.b	$404.w,D0				; change background colour loop
00:0001009A 5200            	    54: 	addq.b	#$1,D0
00:0001009C 11C00404        	    55: 	move.b	D0,$404.w
00:000100A0 4EF900010096    	    56: 	jmp	.5
                            	    57: 
                            	    58: exc_addr_error
00:000100A6 6000FFFE        	    59: 	bra	exc_addr_error				; TODO: bsod when this happens?
                            	    60: 
                            	    61: logo_data
00:000100AA 70              	    62: 	dc.b	112,64,%111,0,$1c			; icon top left
00:000100AB 40
00:000100AC 07
00:000100AD 00
00:000100AE 1C
00:000100AF 78              	    63: 	dc.b	120,64,%111,0,$1d			; icon top right
00:000100B0 40
00:000100B1 07
00:000100B2 00
00:000100B3 1D
00:000100B4 70              	    64: 	dc.b	112,72,%111,0,$1e			; icon bottom left
00:000100B5 48
00:000100B6 07
00:000100B7 00
00:000100B8 1E
00:000100B9 78              	    65: 	dc.b	120,72,%111,0,$1f			; icon bottom right
00:000100BA 48
00:000100BB 07
00:000100BC 00
00:000100BD 1F
00:000100BE 6B              	    66: 	dc.b	107,80,%111,0,$6c			; l
00:000100BF 50
00:000100C0 07
00:000100C1 00
00:000100C2 6C
00:000100C3 70              	    67: 	dc.b	112,80,%111,0,$69			; i
00:000100C4 50
00:000100C5 07
00:000100C6 00
00:000100C7 69
00:000100C8 76              	    68: 	dc.b	118,80,%111,0,$6d			; m
00:000100C9 50
00:000100CA 07
00:000100CB 00
00:000100CC 6D
00:000100CD 7E              	    69: 	dc.b	126,80,%111,0,$65			; e
00:000100CE 50
00:000100CF 07
00:000100D0 00
00:000100D1 65
                            	    70: 
                            	    71: logo_tiles
00:000100D2 00              	    72: 	dc.b	%00000000,%00000000	; tile 1 (icon upper left)
00:000100D3 00
00:000100D4 01              	    73: 	dc.b	%00000001,%00000000
00:000100D5 00
00:000100D6 07              	    74: 	dc.b	%00000111,%10000000
00:000100D7 80
00:000100D8 07              	    75: 	dc.b	%00000111,%10100000
00:000100D9 A0
00:000100DA 1E              	    76: 	dc.b	%00011110,%11111000
00:000100DB F8
00:000100DC 1E              	    77: 	dc.b	%00011110,%10101111
00:000100DD AF
00:000100DE 1E              	    78: 	dc.b	%00011110,%10101010
00:000100DF AA
00:000100E0 1E              	    79: 	dc.b	%00011110,%10101111
00:000100E1 AF
                            	    80: 
00:000100E2 00              	    81: 	dc.b	%00000000,%00000000	; tile 2 (icon upper right)
00:000100E3 00
00:000100E4 00              	    82: 	dc.b	%00000000,%00000000
00:000100E5 00
00:000100E6 00              	    83: 	dc.b	%00000000,%00000000
00:000100E7 00
00:000100E8 00              	    84: 	dc.b	%00000000,%00000000
00:000100E9 00
00:000100EA 00              	    85: 	dc.b	%00000000,%00000000
00:000100EB 00
00:000100EC 00              	    86: 	dc.b	%00000000,%00000000
00:000100ED 00
00:000100EE C0              	    87: 	dc.b	%11000000,%00000000
00:000100EF 00
00:000100F0 B0              	    88: 	dc.b	%10110000,%00000000
00:000100F1 00
                            	    89: 
00:000100F2 1E              	    90: 	dc.b	%00011110,%11111010	; tile 3 (icon bottom left)
00:000100F3 FA
00:000100F4 07              	    91: 	dc.b	%00000111,%10101010
00:000100F5 AA
00:000100F6 07              	    92: 	dc.b	%00000111,%10101011
00:000100F7 AB
00:000100F8 01              	    93: 	dc.b	%00000001,%11101011
00:000100F9 EB
00:000100FA 00              	    94: 	dc.b	%00000000,%01111110
00:000100FB 7E
00:000100FC 00              	    95: 	dc.b	%00000000,%00010111
00:000100FD 17
00:000100FE 00              	    96: 	dc.b	%00000000,%00000001
00:000100FF 01
00:00010100 00              	    97: 	dc.b	%00000000,%00000000
00:00010101 00
                            	    98: 
00:00010102 EC              	    99: 	dc.b	%11101100,%00000000	; tile 4 (icon bottom right)
00:00010103 00
00:00010104 EE              	   100: 	dc.b	%11101110,%00000000
00:00010105 00
00:00010106 AB              	   101: 	dc.b	%10101011,%10000000
00:00010107 80
00:00010108 AB              	   102: 	dc.b	%10101011,%10100000
00:00010109 A0
00:0001010A AA              	   103: 	dc.b	%10101010,%11110100
00:0001010B F4
00:0001010C FF              	   104: 	dc.b	%11111111,%01010000
00:0001010D 50
00:0001010E 55              	   105: 	dc.b	%01010101,%00000000
00:0001010F 00
00:00010110 00              	   106: 	dc.b	%00000000,%00000000
00:00010111 00
                            	   107: 


Symbols by name:
CORE_ROMS                        E:00000482
VDC_CURRENT_SPRITE               E:00000407
VDC_SPRITE_X                     E:00000420
VDC_TILESET1                     E:00001000
VEC_ADDR_ERROR                   E:0000000C
_start                           A:00010020
exc_addr_error                   A:000100A6
logo_data                        A:000100AA
logo_tiles                       A:000100D2

Symbols by value:
0000000C VEC_ADDR_ERROR
00000407 VDC_CURRENT_SPRITE
00000420 VDC_SPRITE_X
00000482 CORE_ROMS
00001000 VDC_TILESET1
00010020 _start
000100A6 exc_addr_error
000100AA logo_data
000100D2 logo_tiles
